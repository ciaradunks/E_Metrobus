{% extends "base.html" %}

{% load static %}
{% load i18n %}

{% block content %}
<div class="cell project">
  <ul class="tabs project__tabs" data-tabs id="question_tabs">
    <li class="tabs-title is-active"><a href="#partners" aria-selected="true">{% trans "Projektpartner" %}</a></li>
    <li class="tabs-title"><a href="#data" aria-selected="true">{% trans "Quellen" %}</a></li>
    <li class="tabs-title"><a href="#bugs" aria-selected="true">{% trans "Fehler melden" %}</a></li>
  </ul>

  <div class="tabs-content" data-tabs-content="question_tabs">
    <div class="tabs-panel is-active" id="partners">
      <div class="grid-x text-center">
        <div class="cell legal__logo">
          <img src="{% static 'images/logos/Logo_Nationale_Organisation_Wasserstoff-_und_Brennstoffzellentechnologie.svg.png' %}" alt="NOW GmbH Logo">
        </div>
        <div class="cell legal__logo">
          <img src="{% static 'images/logos/Bundesministerium_für_Verkehr_und_digitale_Infrastruktur_Logo.svg.png' %}" alt="BMVI Logo">
        </div>
        <div class="cell legal__logo">
          <img src="{% static 'images/logos/ptj_logo.jpg' %}" alt="PTJ Jülich Logo">
        </div>
      </div>
    </div>

    <div class="tabs-panel" id="data">
      {{info_table}}
    </div>

    <div class="tabs-panel" id="bugs">
      <div class="cell bug__question">
        <p>Hast du ein Bug gefunden oder willst du uns ein Feedback über die App schicken? Dann melde dich gerne bei uns!</p>
      </div>

      <div class="cell bug__form">
        <div class="grid-x">
          <form method="post" class="feedback__form">
            {% csrf_token %}
            {{bug}}
            <div class="cell">
              <div class="grid-x align-center text-center">
                <div class="cell">
                  <button class="button" type="submit" style= "cursor:pointer">{% trans 'Senden' %}</button>
                </div>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
  {{block.super}}
  <script>
    var descriptions = {{bug.descriptions}};
    $("#id_description").attr("placeholder", descriptions["technical"]);

    $("#id_type").change(function() {
      type = $(this).val();
      $("#id_description").attr("placeholder", descriptions[type]);
    });

  </script>
{% endblock javascript %}
